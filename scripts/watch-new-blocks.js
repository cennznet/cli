// Subscribe to new blocks
//let hash = '0xa554b7340f5017dc5d73ea650c336d19dcbe32ab10c5158089170d08cddb9ec6';
//let tx = await api.rpc.chain.getBlock(hash);
//console.log(tx);
//console.log(tx.toHex());
//console.log(tx.toJSON());
//api.query.system.events.at(hash).then(x => console.log(x.toJSON()));

// 0x2d8fd953c32820ab1a494d66d00058815179e279acbd68a6a2eeb81049f2f2531202e200d7f3bd4c0bd7a784fd488296def7bc4e9aaefeb6db4b7f86d782278308115d7a69f11829f3be360f0b6ebe765d2050eec2b554087d604d09623c6da5f6ad12d108064241424534020a000000ccd522130000000005424142450101e8b6a84ec4a7086f00b0ca36324f3250167b30e239acce7bb494e26bd0e0c72b741b616f5a4a2c448c9fda06c8fb893c8868cbe1c7ba03fc5d45bbecb19bf28914280403000b64b85fc07501310b040800049549b66dc9859caa320e6a742e150d777152bbd613bb8cd2c6f166def16cc4890e02e2000b48b821ec64864ccb2ff1d750546f759c51f8de46426e02c36ded11271f53999f35e72ae71de541cecb3c3a8cbe12cf5e0cf71445726fa8a4ed0de22ed4ee570c064241424534020a000000cbd5221300000000044241424509080130fa3535733bc3faa490f1614ac568114febb1dcfa486386bde97900421648c52f01000000000000007c878f20b644b59bb42a3c245060e9f611dd2226c33de3a95ce99095adac1963010000000000000026fc5b66b0822e650e1da0901d8bcd94f305b9338d489364a18c04a640c2bc6c0100000000000000aa8c3e6506b432459ff57075eed503a4f6062d286fe1bbca4a2c49a4ec1b706901000000000000000c874fc16ec3cdfbec89f81051b3ff14762be701aca492f5e8c828bbab88a97b01000000000000004c281d2ebaecd55439931f3c7f135f3b6ca8ea1e6bf1fc814a611186b678f6320100000000000000d669af759ce293a57e200c33195725a7e65d489082da42bc5c1876af13f0d417010000000000000052a9edf0253a60cb88f251c3b3bbd304f096fc02eefea80aaccba22ab469217e01000000000000006abdbd6cf81c5614ee8d88cfcea1b63815d568246d4e0dd96142383e278566680100000000000000b8c207e74acf1fc82102587adba37de727c613b36688e6338d2980c0d120ee100100000000000000c43d061b0b7d0f8ec1b3cf47272c8e797cd6c86c67e9c3566543e9ab024b2e210100000000000000b01d2b3308c189c7f9d2ea156ab05b7352e9a4b43800474bffa7db32ff3def5a010000000000000099ac81dc0a9fed8f63f2cfb89501a2a1c75644b916655115f47850e28cbcba3305424142450101da0ae73ac45577e2bfc92de1934b799ec3fc8a2abf8d8c2e9d2866aff36cb66c0bed19e0a7b41e43de9ae25b448ee8395dcf75c323bfadd46e34f04aee64e68e1c040d000202e200d10184bcde723825aa7e0495950dd4698cf0b71be38b58c57a148a195e090e4e308202019aee7bacbae376a07dd31ba8415f977b3c2d742ed16258218929a8c8f39b0427de422a4c486da1fca1df4f044446fce320ba516b6738fe766ca29b874943fd8a00004eae0400000005010808de6f7bac1945d10184bcde723825aa7e0495950dd4698cf0b71be38b58c57a148a195e090e4e30820201a8f37684ad3e0ef33a117ee69c0c5ddbcf8fe0d26c2e309f736c9d83e3a12a6846433c79540a6203dc3bd33f30a81cc6f0cfcf5fd0141f6203b57e060692ef83000052ae04000000050108649cd6cb09337d00

await api.rpc.chain.subscribeNewHeads((header) => {
    console.log(header.toJSON());
    console.log(header.hash.toHex());
    api.query.system.events.at(header.hash.toHex()).then(x => console.log(x.toJSON()));
})
